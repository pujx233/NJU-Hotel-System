# 互联网酒店预订系统需求规格说明文档
## 1. 引言
### 1.1 目的

本文档描述了互联网酒店预订系统的功能需求和非功能需求。

### 1.2 范围

互联网酒店预订系统的开发目标是解决传统的线下酒店预订模式的诸多缺点。包括辅助酒店掌握客户行程变化、帮助酒店和客户的长途沟通、减少客户恶意预订、帮助客户了解酒店信息和为客户保存过去的酒店体验历史。

该互联网酒店预订系统，期望为提高酒店的订单处理效率、降低人力资源消耗、提高酒店的订单量和利润、减少客户异地预订酒店所需的时间并简化预订流程。

### 1.3 参考文献

（1）互联网酒店预订系统用例文档。

## 2. 总体描述

### 2.1 项目前景

#### 2.1.1 背景与机遇

在过去，线下预订构成了预订酒店的主要模式，而在如今已经不能适应它的业务发展要求。首先，随着人们对于出行前规划时间的日益看重，线下预订酒店这种传统模式无法提前预定，导致损失客源。再者随着酒店规模的不断扩大，入住客户及客房数量的增加，有关酒店的各种信息也在成倍的增长。传统的信息管理模式同样无法满足处理大量信息的要求。因此需要开发一个系统，能实现提前预定和管理酒店和用户信息的功能，从而方便客户，提高管理效率。
	
通过开发的互联网酒店预订系统，实现客户提前预定酒店的需求并方便酒店对于信息的管理，提高管理效率，降低管理成本。它包括一个数据集中服务器和多个客户端。数据集中服务器将所有的数据存储起来进行维护。用户通过客户端实现酒店房间的预订，客户端与数据集中服务器采取实时通信的方式完成数据交换。酒店工作人员通过客户端进行工作人员个人信息的管理、客房录入与酒店基本信息的维护。

#### 2.1.2 业务需求

	BR1: 在系统使用6个月后，酒店运营成本要降低20%
			范围：人力成本
			度量：管理酒店全部数据所需工作人员数量
	BR2: 在系统使用3个月后，酒店工作人员效率要提高15%
	BR3: 在系统使用6个月后，线上预订营业额要占到50%
			最好情况：60%
			最可能情况：50%
			最差情况：30%
	BR4：在系统使用6个月后，线上预订营业额要提高20%
			最好情况：30%
			最可能情况：20%
			最差情况：10%

### 2.2 项目功能
	BF1: 客户个人基本信息管理
	BF2: 客户浏览酒店详细信息
	BF3: 客户生成订单
	BF4: 客户查看订单
	BF5: 注册普通会员
	BF6: 客户评价酒店
	BF7: 酒店工作人员个人基本信息管理
	BF8：酒店工作人员浏览订单
	BF9：执行订单
	BF10: 维护酒店基本信息
	BF11: 管理可用客房
	BF12: 提前退房
	BF13: 制定酒店促销策略
	BF14: 制定网站促销策略
	BF15: 浏览异常订单执行情况
	BF16: 充值信用值
	BF17: 用户管理
	BF18: 添加酒店
	BF19: 修改管理员密码

### 2.3 用户特征

|     客户     | 所有客户出于旅游或出差等其他理由有提前预定酒店的需求。客户的信用良好，有资金用来支付房费。客户的计算机操作技能一般，对于系统界面往往无法及时适应，希望新系统尽可能帮助客户预定酒店。 |
| :----------: | ------------------------------------------------------------ |
| 酒店工作人员 | 每一个酒店有1~2个在本系统上负责自己所属酒店的酒店工作人员。他们的工作是维护酒店的基本信息、可用客房和促销策略。由于酒店每天的客户有许多，所以他们的工作量往往很大，希望新系统不要太占用他们的时间。酒店工作人员的计算机操作技能较好。 |
| 网站营销人员 | 本系统有2~3个网站营销人员。他们负责网站的促销策略，处理异常订单的执行情况和客户的信用充值。网站营销人员往往需要花费大量时间用来制定合理的促销策略。希望新系统能够帮助他们更好地执行促销策略和做其他工作。网站营销人员的计算机操作技能较好。 |
| 网站管理人员 | 整个系统有1个网站管理员。他的工作是管理用户和添加酒店及其工作人员、查询更改酒店工作人员信息。网站管理人员是计算机专业维护人员，计算机技能很好。 |

### 2.4 约束
CON1: 本系统利用酒店数据和保存用户个人隐私符合中国法律法规
CON2: 本系统需要运行在联网的电脑上
CON3: 团队必须保证个人用户信息不被泄露
CON4: 本系统采用Java语言和web技术进行开发
CON5: 项目要使用持续集成方法进行开发
CON6: 在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告

### 2.5 假设与依赖
AE1: 防止个人信息泄露
AE2: 每一天的预定酒店房间情况较稳定。

## 3 详细需求描述
### 3.1 对外接口需求
#### 3.1.1 用户界面 
UI1: 登录界面
![用户界面1.png](https://njuse.oss-cn-shenzhen.aliyuncs.com/%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A21.png)

|  登陆控件  |                功能                |
| :--------: | :--------------------------------: |
|    邮箱    |           填入邮箱以登录           |
|    密码    |              填入密码              |
|    确定    | 信息填写完毕，即可点击确认按钮登录 |
| 注册新账号 |          点击进入注册界面          |

UI2: 注册界面

![用户界面3.png](https://njuse.oss-cn-shenzhen.aliyuncs.com/%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A23.png)

|   注册控件   |              功能              |
| :----------: | :----------------------------: |
|     邮箱     |       填入注册需要的邮箱       |
|    用户名    |           填入用户名           |
|    手机号    |        填入用户的手机号        |
|     密码     |       填入注册需要的密码       |
|   确认密码   |          再次填写密码          |
|     确认     | 信息填写完毕，点击确认按钮注册 |
| 账号密码登录 |        点击进入登陆界面        |

UI3: 首页界面

![用户界面2.png](https://njuse.oss-cn-shenzhen.aliyuncs.com/%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A22.jpg)

| 首页控件 |         功能         |
| :------: | :------------------: |
|   酒店   | 点击进入酒店详情界面 |
|   首页   |   点击进入首页界面   |
|   用户   |   点击进入用户界面   |
| 酒店管理 | 点击进入酒店管理界面 |

#### 3.1.2 通信接口

CI: 客户端与服务器使用HttpRequest的方法进行通信。

### 3.2 功能需求

#### 3.2.1 客户个人基本信息管理

##### 3.2.1.1 特征描述

提供客户浏览全部个人信息（用户名，联系方式、信用）和修改部分信息（用户名，联系方式，密码）的功能

优先级=中

##### 3.2.1.2 刺激/响应序列

刺激：客户选择浏览个人信息

响应：系统显示客户个人信息

刺激：客户选择修改信息

响应：系统在显示不可修改信息的同时，显示可修改的信息并允许修改

刺激：客户修改信息并选择保存

响应：系统更新信息存储并重新显示个人信息

刺激：客户取消修改

响应：系统根据现有数据存储重新显示个人信息

##### 3.2.1.3 相关功能需求

| Information. ViewForCustomer               | 系统允许客户浏览个人信息                                 |
| :------------------------------------- | ------------------------------------------------------------ |
| Information. ViewForCustomer. Show       | 在客户选择修改个人信息时，系统显示全部个人信息的最新状态   |
| Information. ViewForCustomer. Edit         | 在客户选择修改信息时，系统在显示不可修改信息的同时，显示可修改的信息并允许修改 |
| Information. ViewForCustomer. Save. Valid  | 在客户修改信息后选择保存且修改内容格式正确（见3.4.3数据格式要求，下同）时，系统更新数据并重新显示全部个人信息 |
| Information. ViewForCustomer. Cancel        | 客户选择取消修改时，系统根据现有数据存储重新显示全部个人信息          |
| Information. ViewForCustomer. Save. Invalid        | 在客户保存修改后信息且修改内容格式错误时，系统不保存信息并提示用户相应内容格式错误           |

#### 3.2.2  浏览酒店信息

##### 3.2.2.1 特征描述

提供客户搜索（根据商圈、星级、评分）、查看酒店列表以及浏览酒店详细信息、开启酒店预订流程的功能

优先级=中

##### 3.2.2.2 刺激/响应序列

刺激：客户选择浏览酒店信息

响应：系统显示筛选信息选项

刺激：客户选择商圈、星级、评分，搜索酒店

响应：系统根据所选信息搜索并显示酒店列表

刺激：客户在酒店列表中选择酒店查看详细信息

响应：系统显示选中酒店的详细信息（包括地址、简介、设施服务、房间类型与价格）

刺激：客户在列表中选择查看某一页

响应：系统显示列表的该页

刺激：客户在查看酒店详细信息时选择回到酒店列表

响应：系统显示原搜索条件下的酒店列表

刺激：客户在查看酒店详细信息的房间列表时选择预订该酒店某类型房间

响应：系统进入生成订单流程

##### 3.2.2.3 相关功能需求

| Search. Show            | 在客户选择浏览酒店信息时，系统显示筛选信息选项             |
| ------------------------ | ------------------------------------------------------------ |
| Search. ChangeCondition   | 在客户选中筛选信息时，系统允许客户进行修改（见Search.Input与Search.Select） |

| Search. Input            | 系统应该允许客户在浏览酒店信息任务中进行键盘输入             |
| ------------------------ | ------------------------------------------------------------ |
| Search. Input，Invalid   | 在客户输入格式错误的信息（参见3.4.3数据格式要求），系统提示相应数据格式错误 |

| Search. Select       | 系统应该允许客户选择搜索酒店的筛选条件             |
| ------------------------ | ------------------------------------------------------------ |
| Search. Select，Force   | 在客户未选择地址和商圈时，系统提示该项必须选择 |

| Search. Excute       | 系统应该允许客户搜索酒店             |
| ---------------------------- | ------------------------------------------------------------ |
| Search. Excute. Invalid       | 在客户未选择地址和商圈或输入的数据的格式错误（参见3.4.3数据格式要求）时，不搜索信息并提示用户筛选条件有误 |
| Search. Excute. Valid | 在客户选择地址和商圈且输入的数据的格式正确（参见3.4.3数据格式要求）时，系统显示相应搜索条件下的酒店列表 |
| Search. Excute. Valid. Null | 在系统搜索的酒店列表为空时，系统提示无搜索结果 |

| Search. Page       | 系统应该允许客户查看列表的特定页            |
| ------------------------ | ------------------------------------------------------------ |
| Search. Page . Valid   | 在客户选择的页数存在时，系统显示列表的该页 |
| Search. Page . Invalid   | 在客户选择的页数不存在时，系统仍显示列表当前页 |

| Search. Detail. In       | 在客户查看酒店列表中的某一酒店的详细信息时，系统显示该酒店的详细信息 |
| ------------------------------ | ------------------------------------------------------------ |
| Search. Detail. Out | 在客户在查看酒店详细信息时选择返回酒店列表时，系统显示原搜索条件下的酒店列表  |
| Search. Detail. Order     | 在客户查看酒店详细信息时选择预订酒店时，系统进入生成订单流程                 |

#### 3.2.3 生成订单

##### 3.2.3.1 特征描述

提供客户预订酒店功能，预定成功会生成订单。

##### 3.2.3.2 刺激/响应序列

刺激：客户选择预订酒店

响应：系统显示预订酒店界面，允许客户填写预定信息

刺激：客户提交订单请求

响应：系统检查订单信息，若信息正确，则保存订单信息并更新酒店信息

##### 3.2.3.3 相关功能需求

| GenerateOrder. Input         | 系统应该允许客户在预订酒店中进行键盘输入          |
| ---------------------------- | ------------------------------------------------- |
| GenerateOrder. Input. Commit | 在客户输入提交请求时，系统执行GenerateOrder.Check |

| GenerateOrder. Choose. roomtype | 在客户填写订单信息时，系统要允许客户选择房间类型 |
| ------------------------------- | ------------------------------------------------ |
| GenerateOrder. Choose. Date     | 在客户填写订单信息时，系统要允许客户选择日期     |
| GenerateOrder. Choose. Cancel   | 在客户取消时，系统返回就酒店浏览界面             |

| GenerateOrder. Check           | 在客户提交订单信息后，系统会检查客户输入的信息 |
| ------------------------------ | ---------------------------------------------- |
| GenerateOrder. Check.isEnough  | 系统检查客户选择的房型在住房日期内是否有余房   |
| GenerateOrder. Check.notEnough | 房型不足，无法生成订单，并提示客户             |
| GenerateOrder. Check.Enough    | 房间充足，执行GenerateOrder.Success            |
| GenerateOrder. Check.NoCredit  | 客户信用值小于0，无法生成订单，提示客户充值    |

| GenerateOrder.Success         | 客户输入的信息正确，可以生成订单 |
| ----------------------------- | -------------------------------- |
| GenerateOrder.Success.Refresh | 系统更新酒店余房信息             |
| GenerateOrder.Success.Save    | 系统保存订单记录                 |



#### 3.2.4  查看订单  

##### 3.2.4.1 特征描述

提供客户查询浏览订单详细信息的功能，包括订单费用、房型、入住日期、离店日期、个人入住信息

优先级=中

##### 3.2.4.2 刺激/响应序列

刺激：客户选择订单管理

响应：系统显示客户的所有状态的订单列表

刺激：客户对于五种订单状态(未执行、已执行、异常、过期异常和已撤销)分别选择是否包含在搜索条件内

响应：系统根据选定条件重新搜索与显示订单列表

刺激：客户选择订单列表的页号

响应：系统显示正在浏览的订单列表的相应页内容

刺激：客户选择订单列表中的一项

响应：系统显示该项订单的详细信息（订单费用、房型、入住日期、离店日期、个人入住信息）

刺激：客户选择撤销未执行订单

响应:

   a.系统执行撤销订单操作
   b.同时判断该订单距离最晚订单执行时间，从而判断是否扣除信用值（若扣除需要进行计算具体值）
   c.修改订单状态为已撤销

刺激：客户选择退出订单详细信息查看

响应：系统返回该订单所在的订单列表的相应页

##### 3.2.4.3 相关功能需求

| Orders. ViewForCustomer               | 客户选择要浏览的特定订单类型                                 |
| :------------------------------------ | ------------------------------------------------------------ |
| Orders. ViewForCustomer. Select       | 在客户选择要浏览的订单类型时，系统显示该类订单的数量、订单列表与页数序列的最新状态 |
| Orders. ViewForCustomer. Page         | 在客户选择订单列表的某页时，系统显示该页内容                 |
| Orders. ViewForCustomer. Details. In  | 在客户选择订单列表的某项订单时，系统显示该订单的详细信息（订单费用、房型、入住日期、离店日期、个人入住信息） |
| Orders. ViewForCustomer. Details. Out | 在客户选择退出订单详细信息查看时，系统返回该订单所在的订单列表的相应页 |
| Orders. ViewForCustomer. Unmake       | 在客户选择撤销订单时，系统执行撤销订单操作                   |
| Orders. ViewForCustomer. Judge        | 在客户选择撤销订单时，系统判断距离最晚撤销时间是否超过6h     |
| Orders. ViewForCustomer. Deduct       | 在客户选择撤销订单时，系统在判断距离最晚撤销时间少于6h时，扣除信用值 |





#### 3.2.5 注册普通会员

##### 3.2.5.1 特征描述

提供客户注册会员功能，包括注册普通会员登记生日。

##### 3.2.5.2 刺激/相应序列

刺激：客户注册普通会员

响应：系统显示注册普通会员界面

刺激：客户在注册普通会员界面填写生日

响应：系统显示注册普通会员成功

##### 3.2.5.3 相关功能需求

| Register. Input           | 系统应该允许客户在注册会员任务中进行键盘输入           |
| ------------------------- | ------------------------------------------------------ |
| Register. Input. Birthday | 在客户输入生日时，系统要保存生日，并注册普通会员，参见 |

| Register. Choose. Start  | 在注册会员任务开始时，系统要允许客户选择会员类型注册         |
| ------------------------ | ------------------------------------------------------------ |
| Register. Choose. Normal | 在客户选择普通会员注册时，系统显示普通会员注册条件，参见Register. Birthday |
| Register. Choose. Cancel | 在客户取消时，系统返回注册会员任务，参见Register. Input      |

| Register. Birthday           | 在客户选择注册普通会员时，系统显示注册普通会员页面   |
| ---------------------------- | ---------------------------------------------------- |
| Register. Birthday.  Valid   | 在客户输入正确格式的生日时，系统显示注册普通会员成功 |
| Register. Birthday.  Invalid | 在客户输入错误格式的生日时，系统提示格式错误         |
| Register. Birthday. Cancel   | 在客户取消时，系统返回选择任务，参见Register. Choose |

#### 3.2.6 评价酒店

##### 3.2.6.1 特征描述

在订单被设置为已执行状态后。客户可以评价酒店。

##### 3.2.6.2 刺激/响应序列

刺激：客户选择评价酒店

响应：系统显示评价酒店界面，允许客户填写评价信息

刺激：客户提交评价

响应：系统保存评价信息，提示评价成功

##### 3.2.6.3 相关功能需求

| Comment. Input         | 系统应该允许客户在评价酒店中进行键盘输入     |
| ---------------------- | -------------------------------------------- |
| Comment. Input. Submit | 在客户输入提交请求时，系统执行Comment.Submit |

| Comment. Choose. Score | 在客户评价酒店时，系统要允许客户选择分数（0-5的整数） |
| ---------------------- | ----------------------------------------------------- |
| Comment. Choose. Miss  | 客户忘记选择分数时，默认补充分数为5                   |

| Comment.Submit          | 客户提交评价，系统应执行以下功能 |
| ----------------------- | -------------------------------- |
| Comment.Success.Refresh | 系统更新酒店分数信息             |
| Comment.Success.Save    | 系统保存评价记录                 |

#### 3.2.7 酒店工作人员个人基本信息管理

##### 3.2.7.1 特征描述

系统允许酒店工作人员查看和修改自己的基本信息。(注：以下的HM指Hotel Manager，即酒店工作人员)

##### 3.2.7.2 刺激/响应序列

刺激：酒店工作人员选择查看个人信息

响应：系统显示工作人员个人基本信息，并允许修改

刺激：工作人员选择保存修改

响应：系统更新工作人员基本信息，并提示修改成功

##### 3.2.7.3 相关功能需求

| HMInfor. Input         | 系统应该允许工作人员在修改信息时进行键盘输入     |
| ---------------------- | ------------------------------------------------ |
| HMInfor. Input. Submit | 在工作人员输入提交请求时，系统执行HMInfor.Submit |
| HMInfor.Submit         | 系统更新酒店工作人员的基本信息                   |

#### 3.2.8 酒店工作人员浏览订单

##### 3.2.8.1 特征描述

提供酒店工作人员浏览订单功能，订单包括未执行、已执行、异常、过期异常和已撤销的订单。

优先级=中

##### 3.2.8.2 刺激/相应序列

刺激：酒店工作人员选择订单管理

响应：系统显示工作人员所属酒店的所有状态的订单列表

刺激：酒店工作人员对于五种订单状态(未执行、已执行、异常、过期异常和已撤销)分别选择是否包含在搜索条件内

响应：系统根据选定条件重新搜索与显示订单列表

##### 3.2.8.3 相关功能需求

| Orders. ViewForStaff | 系统应该允许酒店工作人员进行订单管理            |
| :------------------------ | -------------------------------------------------------- |
| Orders. ViewForStaff. Show | 在酒店工作人员选择订单管理时，系统显示工作人员所属酒店的所有状态的订单列表 |
| Orders. ViewForStaff. Select | 在酒店工作人员改变订单状态的筛选条件时，系统根据选定条件重新搜索与显示订单列表 |

#### 3.2.9 订单执行

##### 3.2.9.1 特征描述

为酒店工作人员提供订单在各类酒店方相关的给定条件下的状态转换，包括：未执行状态在用户入住后改变为已执行，异常状态在用户补登记后改变为已执行。

优先级=高

##### 3.2.9.2 刺激/响应序列

刺激：酒店工作人员在五种订单状态（未执行、已执行、异常、过期异常和已撤销）中只选择将“未执行”（或“异常”）包含在搜索条件内

响应：系统根据条件搜索并重新显示订单列表 

刺激：酒店工作人员为已入住的未执行订单客户（或补登记的异常订单客户）执行订单

响应：系统更新选定订单的状态为已执行，使订单客户获得等于订单价值的信用值增加，并重新显示当前搜索条件下的订单列表

##### 3.2.9.3 相关功能需求

| Orders. ViewForStaff. Select | 在酒店工作人员改变订单状态的筛选条件时，系统根据选定条件重新搜索与显示订单列表 |
| :------------------------ | -------------------------------------------------------- |
| Orders. ViewForStaff. Operation. CarryOut | 在酒店工作人员于订单列表中选择某项订单的执行时，系统更新选定订单的状态为已执行，使订单客户获得等于订单价值的信用值增加，并重新显示当前搜索条件下的订单列表 |
| Orders. ViewForStaff. Operation. Null | 在酒店工作人员于订单列表中选择某项订单的操作而该订单不支持操作时，系统提示用户无法操作 |

#### 3.2.10  维护酒店基本信息

##### 3.2.10.1 特征描述

酒店工作人员身份验证通过后，提供维护酒店基本信息功能，包括维护酒店基本信息（地址、所属商圈、简介、设施服务、星级）

优先级：中

##### 3.2.10.2 刺激/响应序列

刺激：酒店工作人员选择浏览酒店基本信息

响应：系统显示酒店基本信息页

刺激：酒店工作人员选择修改酒店基本信息

响应：系统显示酒店基本信息修改页面

刺激：酒店工作人员选择保存修改信息

响应：系统判断可否修改，可修改则显示修改成功。不可修改则显示修改失败

刺激：酒店工作人员选择退出信息修改页

响应：系统返回酒店基本信息页面

##### 3.2.10.3 相关功能需求

| MaintainHotel. Input         | 系统应该允许酒店工作人员在维护酒店基本信息任务中进行键盘输入 |
| ---------------------------- | ------------------------------------------------------------ |
| MaintainHotel. Input. Change | 在酒店工作人员选择修改酒店基本信息时，系统显示酒店基本信息修改页，参见MaintainHotel.Change |

| MaintainHotel.Change           | 在酒店工作人员选择修改酒店基本信息时，系统显示酒店基本信息修改页 |
| ------------------------------ | ------------------------------------------------------------ |
| MaintainHotel.Change.  Valid   | 在酒店工作人员修改信息正确时，系统显示维护酒店基本信息成功   |
| MaintainHotel.Change.  Invalid | 在酒店工作人员修改信息错误时，系统显示维护酒店基本信息错误   |
| MaintainHotel.Change. Cancel   | 在酒店工作人员取消时，系统返回选择任务，参见MaintainHotel.Input |



#### 3.2.11. 管理可用客房

##### 3.2.11.1. 特征描述

```
一个经过验证的酒店工作人员可以管理客房信息，包括房型、房间总数、原始价格、剩余房数。酒店工作人员可以增加新的客房类型，以及在线下入住、退房时更新已有类型客房的可用数量
优先级：高
```


##### 3.2.11.2. 刺激/响应序列

```
刺激：酒店工作人员请求管理客房信息

响应：系统显示酒店所有房间的信息列表，包括房型，房间数，原始价格，剩余房数

刺激：酒店工作人员请求录入可用客房

响应：系统显示录入可用客房信息界面，包括房型、房间数、原始价格、剩余房数

刺激：酒店工作人员发现信息修改有误，请求重新录入可用客房信息

响应：系统关闭客房信息预览，返回录入可用客房界面

刺激：酒店工作人员确认提交可用客房

响应：系统更新客房信息并提示录入可用客房成功

刺激：酒店工作人员结束录入可用客房任务

响应：系统关闭录入可用客房，返回当前酒店的客房列表界面

刺激：酒店工作人员选择特定类型房间，请求更改该房型房间数量

响应：系统显示更改房间数量界面

刺激：酒店工作人员输入改变的余房数量，确认更新

响应：系统更新房间剩余数量，显示酒店所有房型信息列表

刺激：酒店工作人员取消更改房型房间数量

响应：系统显示酒店所有房型信息列表

刺激：酒店工作人员选择特定房型，请求删除该房型的房间

响应：系统提示酒店工作人员确认删除

刺激：酒店工作人员取消删除房型

响应：系统显示酒店所有房型信息列表

刺激：酒店工作人员确认删除指定房型

响应：系统在数据库中删除此类型的房间，显示酒店所有房型信息列表
```


##### 3.2.11.3. 相关功能需求

| 编号                                                         | 需求描述                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| Hotel.Room.View                                              | 系统显示当前酒店的客房列表                                   |
| Hotel.Room.Add                                               | 酒店工作人员请求录入可用客房，系统显示录入可用客房界面       |
| Hotel.Room.Add.Input<br>Hotel.Room.Add.Input.Cancel<br>Hotel.Room.Add.Input.Submit<br> | 系统允许酒店工作人员在录入可用客房任务中进行键盘键入<br/>酒店工作人员取消录入可用客房，系统关闭录入可用客房界面，并显示当前酒店的客房列表，参见Hotel.Room.View<br>酒店工作人员确认录入可用客房后，系统保存录入的客房信息，参见Hotel.Room.Add.Submit |
| Hotel.Room.Add.Submit<br/>Hotel.Room.Add.Submit.Check<br/>Hotel.Room.Add.Submit.Update<br/>Hotel.Room.Add.Submit.Close | 系统提交酒店工作人员录入的可用客房<br>在更新酒店工作人员录入的可用客房之前，检查录入的客房信息，参见Hotel.Room.Add.Check<br>客房信息检查通过后，系统更新录入的可用客房<br>酒店工作人员结束录入可用客房任务且系统更新录入的可用客房后，系统关闭录入可用客房任务 |
| Hotel.Room.Add.Check<br/>Hotel.Room.Add.Check.Incomplete<br/>Hotel.Room.Add.Check.Invalid | 系统检查录入的客房信息，参见3.4.3数据格式要求<br>如果录入的客房信息不完整，系统提示酒店工作人员客房信息输入不完整<br>如果数据格式错误，系统提示数据格式错误 |
| Hotel.Room.Update                                            | 酒店工作人员请求更改某种房型房间的数量                       |
| Hotel.Room.Update.Input<br>Hotel.Room.Update.Input.Cancel<br>Hotel.Room.Update.Input.Submit | 系统允许酒店工作人员在更改房间数量任务中进行键盘键入<br>酒店工作人员取消更改。系统关闭更改界面，显示酒店房间列表，参见Hotel.Room.View<br>酒店工作人员确认改变房间数量后，系统保存房间数量，参见Hotel.Room.Update.Submit |
| Hotel.Room.Update.Submit<br>Hotel.Room.Update.Submit.Check<br>Hotel.Room.Update.Submit.Update<br>Hotel.Room.Update.Submit.Close | 系统提交酒店工作人员更改的房间数量<br>在更新房间数据之前，系统检查房间数量，参见Hotel.Room.Update.Check<br>数量检测通过后，系统更新房间数量<br>系统更新房间数量后，系统关闭更改房间数量任务 |
| Hotel.Room.Update.Check<br>Hotel.Room.Update.Check.BelowZero | 系统检查输入的房间数量<br>如果输入的房间数量小于0，系统提示数据错误 |
| Hotel.Room.Delete<br>Hotel.Room.Delete.Confirm<br>Hotel.Room.Delete.Submit | 酒店工作人员请求删除某种房型<br>酒店工作人员确认删除某种房型的房间<br>在酒店工作人员确认后，系统更新酒店的房型信息列表并显示，参见Hotel.Room.View |



#### 3.2.12  提前退房

##### 3.2.12.1 特征描述

酒店工作人员会在线下登记实际入住和退房时间，客户在订单结束日期之前退房时，酒店工作人员可以帮其提前退房，更新订单的退房信息（实际离开时间）与总价。

优先级：中

##### 3.2.12.2 刺激/响应序列

刺激：酒店工作人员选择浏览已执行的订单列表

响应：系统显示已执行的订单列表 

刺激：酒店工作人员为已执行订单列表中的一项选择提前退房

响应：系统更新订单退房时间与金额，重新显示订单列表

##### 3.2.12.3 相关功能需求

| Orders. ViewForStaff. Select | 在酒店工作人员改变订单状态的筛选条件时，系统根据选定条件重新搜索与显示订单列表 |
| :------------------------ | -------------------------------------------------------- |
| Orders. ViewForStaff. Checkout | 在酒店工作人员于订单列表中选择某项订单的执行提前退房时，系统执行提前退房的流程 |
| Orders. ViewForStaff. Checkout. Valid | 在当前日期早于订单结束日期时，更新订单退房日期为当前日期，重新计算并更新金额，重新显示订单列表 |
| Orders. ViewForStaff. Checkout. Invalid | 在当前日期不早于订单结束日期时，将无法执行提前退房 |

#### 3.2.13   制定酒店促销策略

##### 3.2.13.1 特征描述

酒店工作人员身份验证通过后，其可以选择制定以下四种促销策略。
优先级 = 低

##### 3.2.13.2 刺激/响应序列

刺激：酒店工作人员选择要制定的促销策略
响应：系统进入相应的促销策略制定页面
刺激：酒店工作人员填写该页面信息（包括优惠券类型，券名，优惠简介，优惠期间，优惠金额，优惠折扣，达标金额，达标房数）并确认
响应：系统更新优惠策略，并显示操作成功
刺激：酒店工作人员取消修改
响应：系统关闭酒店促销策略制定任务

##### 3.2.13.3 相关功能需求

| HotelPromotion.Input          | 系统应该允许酒店工作人员通过键盘输入和鼠标选择               |
| ----------------------------- | ------------------------------------------------------------ |
| HotelPromotion.Input.Stategy  | 在酒店工作人员选择要制定的促销策略后，系统应该跳转到对应的策略制定页面 |
| HotelPromotion.Input.Enter    | 当酒店工作人员输入确认命令时，系统要执行策略生成任务，见HotelPromotion.Make |
| HotelPromotion.Input.Birthday | 工作人员选择制定生日优惠策略时，系统进入生日优惠的优惠策略制定，见HotelPromotion.Birthday |
| HotelPromotion.Input.Cancel   | 工作人员输入取消制定命令后，系统应该关闭优惠策略制定任务     |
| HotelPromotion.Input.TargetMoney | 工作人员选择制定满减优惠策略时，系统进入满减优惠的优惠策略制定，见HotelPromotion.TargetMoney |
| HotelPromotion.Input.RoomNum | 工作人员选择制定房数优惠策略时，系统进入房数优惠的优惠策略制定，见HotelPromotion.RoomNum |
| HotelPromotion.Time | 工作人员选择制定限时优惠策略时，系统进入限时优惠的优惠策略制定，见HotelPromotion.Time |

| HotelPromotion.Make.Check   | 系统检查工作人员输入的合法性                   |
| --------------------------- | ---------------------------------------------- |
| HotelPromotion.Make.Invalid | 工作人员输入格式错误或遗漏时，系统提示输入错误 |
| HotelPromotion.Make.Update  | 系统将该促销策略保存到系统中                   |

| HotelPromotion.Birthday        | 显示生日优惠策略制定页面                                     |
| ------------------------------ | ------------------------------------------------------------ |
| HotelPromotion.Birthday.Enable | 启用生日优惠策略，当今日为某会员生日时，该会员在今日会自动获得该酒店的生日优惠 |
| HotelPromotion.Birthday.Delete | 工作人员选择删除生日优惠策略时，生日优惠不生效               |
| HotelPromotion.Birthday.Input  | 系统显示需要输入的信息（优惠名、简介、优惠金额或折扣）       |

| HotelPromotion.TargetMoney        | 显示满减优惠策略制定页面                                     |
| --------------------------------- | ------------------------------------------------------------ |
| HotelPromotion.TargetMoney.Enable | 启用满减优惠策略，当客户订单价格大于目标金额时，可以使用该券获得直减优惠 |
| HotelPromotion.TargetMoney.Delete | 工作人员选择删除满减优惠策略时，满减优惠不生效               |
| HotelPromotion.TargetMoney.Input  | 系统显示需要输入的信息（优惠名、简介、优惠金额、达标金额）   |

| HotelPromotion.RoomNum        | 显示房数优惠策略制定页面                                     |
| ----------------------------- | ------------------------------------------------------------ |
| HotelPromotion.RoomNum.Enable | 启用房数优惠策略，当客户订单房间数大于达标房数时，可以使用该券获得优惠 |
| HotelPromotion.RoomNum.Delete | 工作人员选择删除房数优惠策略时，房数优惠不生效               |
| HotelPromotion.RoomNum.Input  | 系统显示需要输入的信息（优惠名、简介、优惠金额或折扣、达标房数） |

#### 3.2.14  制定网站促销策略

##### 3.2.14.1 特征描述

网站营销人员在通过身份验证后，其可以选择制定网站促销策略（包括特定期间预订优惠，VIP会员特定商圈专属折扣）

优先级：低

##### 3.2.14.2 刺激/响应序列

刺激：网站营销人员选择要制定的促销策略
响应：系统进入相应的促销策略制定页面
刺激：网站营销人员填写该页面信息（不同模式的具体信息见下表）并确认
响应：系统更新优惠策略，并显示操作成功
刺激：网站营销人员取消修改
响应：系统关闭网页促销策略制定任务

##### 3.2.14.3 相关功能需求

| WebPromotion.Input         | 系统应该允许网站促销人员通过键盘输入和鼠标选择               |
| -------------------------- | ------------------------------------------------------------ |
| WebPromotion.Input.Stategy | 在网站促销人员选择要制定的促销策略后，系统应该跳转到对应的策略制定页面 |
| WebPromotion.Input.Enter   | 当网站促销人员输入确认命令时，系统要执行策略生成任务，见WebPromotion.Make |
| WebPromotion.Input.Date    | 营销人员选择制定特定日期优惠策略时，系统进入特定日期优惠的优惠策略制定，见WebPromotion.Date |
| WebPromotion.Input.Place | 营销人员选择制定VIP会员特定商圈优惠策略时，系统进入VIP会员特定商圈优惠的优惠策略制定，见WebPromotion.Place |
| WebPromotion.Input.Cancel  | 营销人员输入取消制定命令后，系统应该关闭优惠策略制定任务     |

| WebPromotion.Make.Check   | 系统检查工作人员输入的合法性             |
| ------------------------- | ---------------------------------------- |
| WebPromotion.Make.Invalid | 营销人员输入格式错误时，系统提示输入错误 |
| WebPromotion.Make.Update  | 系统将该促销策略保存到系统中             |

| WebPromotion.Date          | 显示特定日期优惠策略制定页面                                 |
| -------------------------- | ------------------------------------------------------------ |
| WebPromotion.Date.Enable   | 启用特定日期优惠策略，当当前日期为所设定日期时，所有订单总价会获得相应折扣 |
| WebPromotion.Date.Delete   | 营销人员选择删除特定日期优惠策略时，该优惠不生效             |
| WebPromotion.Date.Discount | 系统显示折扣值输入框                                         |
| WebPromotion.Date.Set      | 系统提示选择特惠日期                                         |

| WebPromotion.Place         | 显示VIP会员特定商圈优惠策略制定页面                          |
| -------------------------- | ------------------------------------------------------------ |
| WebPromotion.Date.Enable   | 启用VIP会员特定商圈优惠策略，当当前商圈为指定商圈时，所有订单总价会获得相应折扣 |
| WebPromotion.Date.Disable  | 营销人员选择禁用VIP会员特定商圈优惠策略时，该优惠不生效      |
| WebPromotion.Date.Discount | 系统显示折扣值输入框                                         |
| WebPromotion.Date.Set      | 系统提示选择商圈                                             |
| WebPromotion.Date.Level    | 系统提示选择达标VIP等级                                      |

#### 3.2.15 浏览异常订单执行情况

##### 3.2.15.1 特征描述

网站营销人员身份验证通过后，提供浏览异常订单执行情况功能，包括浏览未执行订单情况。如果线下的异常订单申诉合理（系统不予考虑），营销人员可以撤销异常订单，并恢复用户被扣除的信用值的全部或部分。

优先级：中

##### 3.2.15.2 刺激/响应序列

刺激：网站营销人员选择查看异常订单信息

响应：系统显示异常订单信息页

刺激：网站营销人员选择撤销异常订单信息

响应：系统显示异常订单修改页面

刺激：网站营销人员选择保存修改信息

响应：系统判断可否修改，可修改则显示修改成功。不可修改则显示修改失败

刺激：网站营销人员选择退出信息修改页

响应：系统返回异常订单列表信息页面

##### 3.2.15.3 相关功能需求

| AbNormalorders. Input         | 系统应该允许网站营销人员在浏览每日异常订单任务中进行键盘输入 |
| ----------------------------- | ------------------------------------------------------------ |
| AbNormalorders. Input. Change | 在网站营销人员选择撤销每日异常订单时，系统显示异常订单修改页，参见AbNormalorders.Change |

| AbNormalorders.Change           | 在网站营销人员选择修改异常订单信息时，系统显示异常订单修改页 |
| ------------------------------- | ------------------------------------------------------------ |
| AbNormalorders.Change.  Valid   | 在网站营销人员修改信息正确时，系统显示更新异常订单信息成功   |
| AbNormalorders.Change.  Invalid | 在网站营销人员修改信息错误时，系统显示更新异常订单信息错误   |
| AbNormalorders.Change. Cancel   | 在网站营销人员取消时，系统返回选择任务，参见AbNormalorders.Input |
| AbNormalorders.Change.Input     | 处理异常订单时，可选择恢复客户信用值占订单价值的比例         |

#### 3.2.16. 充值信用值

##### 3.2.16.1. 特征描述


网站营销人员可以为线下客户充值信用值


##### 3.2.16.2. 刺激/相应序列


刺激：网站营销人员选择充值信用值

响应：系统返回充值表单（包括用户邮箱、增加的信用值）

刺激：网站营销人员填写表单并确认

响应：系统显示充值成功并返回

刺激：网站营销人员取消充值

响应：系统返回充值信用界面


##### 3.2.16.3. 相关功能需求

| 编号                            | 需求描述                                 |
| ------------------------------- | ---------------------------------------- |
| Marketer.Credit.Recharge        | 系统允许网站营销人员为用户充值信用值     |
| Marketer.Credit.Recharge.Input  | 系统允许网站营销人员通过键盘输入充值信息 |
| Marketer.Credit.Recharge.Submit | 系统可以更新用户信用值                   |
| Marketer.Credit.Recharge.Cancle | 系统结束充值信用值任务                   |
| Marketer.Credit.Recharge.Check  | 系统可以检查网络营销人员输入信息是否合法 |

#### 3.2.17 用户管理

##### 3.2.17.1 特征描述

网站管理人员可以注册用户账号（包括酒店工作人员和网站营销人员），也可以修改所有用户（包括客户、酒店工作人员、网站营销人员）的账号信息。

##### 3.2.17.2 刺激/响应序列

刺激：网站管理人员选择要修改的账号类型

响应：系统根据用户类型展示不同的信息修改页面

刺激：网站管理人员选择注册酒店工作人员账号

响应：系统展示酒店管理人员账号注册界面

刺激：管理人员选择保存修改信息

响应：系统更新用户信息

刺激：管理人员输入的酒店ID不存在

响应：系统提示酒店不存在

刺激：管理人员确定注册酒店工作人员账号

响应：系统分配酒店工作人员ID，并更新用户列表。

##### 3.2.17.3 相关功能需求

| UserManage. Input          | 系统应该允许管理人员在用户管理时进行键盘输入                 |
| -------------------------- | ------------------------------------------------------------ |
| UserManage. Input. Submit  | 在管理人员输入提交请求时，系统执行Comment.Submit             |
| UserManage. Input.Register | 管理人员选择注册酒店工作人员账号，见UserManager.Submit.Register |
| UserManager.Input.Amend    | 管理人员选择修改用户信息，见UserManager.Submit.Amend         |

| UserManage.Submit            | 网站管理人员提出提交请求，系统执行相应任务 |
| ---------------------------- | ------------------------------------------ |
| UserManage.Submit.Amend      | 系统更新用户信息                           |
| UserManage.Submit.RegisterHM | 系统创建酒店工作人员账号                   |
| UserManage.Submit.RegisterWM | 系统创建网站营销人员账号                   |

| UserManage.Fail            | 因管理人员输入错误而无法执行操作                             |
| -------------------------- | ------------------------------------------------------------ |
| UserManage.Fail.NoHotel    | 管理人员输入的酒店ID不存在，无法增加酒店工作人员，给管理人员提示信息 |
| UserManage.Fail.HotelHasHM | 酒店已有工作人员，无法再增加工作人员，给管理人员提示信息     |

#### 3.2.18 添加酒店

##### 3.2.18.1 特征描述

网站管理人员可以添加酒店。

##### 3.2.18.2 刺激/响应序列

刺激：网站管理人员选择新增酒店

响应：系统限时新增酒店信息输入页面

刺激：网站管理人员完成输入信息，选择确认注册

响应：系统分配酒店ID，新增酒店记录，刷新酒店列表

##### 3.2.18.3 相关功能需求

| AddHotel. Choose         | 系统应该允许管理人员在用户管理时进行鼠标选择                 |
| ------------------------ | ------------------------------------------------------------ |
| AddHotel. Choose. Submit | 在管理人员确定新增酒店时，系统执行AddHotel.Add               |
| AddHotel. Choose.Input   | 系统允许网站管理人员进行输入，输入的信息包括酒店名、地址、星级、商圈、电话、酒店设施、酒店简介 |

| AddHotel.Add.Assign | 系统分配酒店ID                     |
| ------------------- | ---------------------------------- |
| AddHotel.Add.Show   | 系统向网站管理人员展示新的酒店列表 |
| AddHotel.Add.Error  | 有输入遗漏时，系统提示输入遗漏     |

#### 3.2.19 修改管理员密码

##### 3.2.19.1 特征描述

网站管理人员可以修改自己的密码。

##### 3.2.19.2 刺激/响应序列

刺激：网站管理人员选择修改密码

响应：系统显示修改密码界面

刺激：网站管理人员保存修改

响应：系统更新管理人员账号信息，并提示修改成功

##### 3.2.19.3 相关功能需求

| ChangePWD. Input         | 系统应该允许管理人员在修改面貌时使用键盘输入               |
| ------------------------ | ---------------------------------------------------------- |
| ChangePWD. Input. Submit | 在管理人员确定修改时，系统更新管理人员密码，并显示修改成功 |

### 3.3 非功能需求

#### 3.3.1  安全性
Safety1：系统应该只允许用户查看和维护自己的信息，且用户不能修改自己的信用值。
Safety2：系统应该不允许网站管理人员修改用户的信用值。
Safety3：系统应该只允许酒店工作人员处理其所指定酒店的工作。

#### 3.3.2  可维护性
Modifiability1：如果系统要增加新的酒店促销策略和网站营销策略类型，要能在0.25个人月内完成。
Modifiability2：如果系统要增加新的会员服务，要能够在0.25个人月内完成。

#### 3.3.3  易用性
Usability1：对大部分有计算机操作基本能力的人员，都不需要专门的培训，就可以在10分钟内完成任一个操作任务。
#### 3.3.4  可靠性
Reliability1：系统在崩溃后，98%的情况下可在10分钟内恢复运行
#### 3.3.5  业务规则
BR1：适用（账号，下单日期）的酒店促销策略“生日特惠折扣”
    （记录中的普通会员账号=账号）而且（账号中的生日日期=下单日期）
BR2：酒店促销策略“三间及以上预订特惠”
    （订单中的房间数>=3）
BR3：适用（入住日期）的酒店促销策略“双11活动折扣”
    （（11=入住日期中的月）并且（11=入住日期中的日））
BR4：适用（下单日期）的网站促销策略“双11活动折扣”
    （（11=下单日期中的月）并且（11=下单日期中的日））

#### 3.3.6  约束
IC1：系统要使用WEB

### 3.4  数据需求

#### 3.4.1  数据定义

DR1：系统需要存储的数据实体及其关系见下图：
![实体关系图](https://njuse.oss-cn-shenzhen.aliyuncs.com/%E8%BD%AF%E5%B7%A5%E4%BA%8C%E6%9C%80%E7%BB%88%E9%98%B6%E6%AE%B5%E4%B8%93%E5%B1%9E/%E9%9C%80%E6%B1%82%E8%A7%84%E6%A0%BC%E6%96%87%E6%A1%A3/%E5%AE%9E%E4%BD%93%E5%85%B3%E7%B3%BB%E5%9B%BE%EF%BC%88%E6%96%B0%EF%BC%89_%E7%94%BB%E6%9D%BF%201.png)

DR2：系统需要永久保存所有订单记录（包括正常订单、异常订单、已撤销的订单）。

#### 3.4.2  默认数据

默认数据用于以下情况：

- 系统中新增加数据时。

- 编辑数据时不小心将相关内容清空时。
  Default1：客户信用值默认为0。
  Default2：价格的默认值为0。
  Default3：所有用户的姓名、联系方式默认为空。
  Default4：酒店评分默认为0。
  Default5：所有优惠策略的直减金额默认为-1（无折扣）。
  Default6：所有优惠策略的折扣值默认为-1（无折扣）。
  Default7：时间默认为北京时间。
  
  Default8：优惠券中未填写的商圈，VIP等级，时间等均为空。
  
  Default9：优惠券中未填写的达标房数默认为-1。

#### 3.4.3  数据格式要求

Format1：数量的格式必须是正整数。
Format2：客户信用值的格式必须是整数（当计算中出现小数时，采用向下舍去）。
Format3：酒店评分范围为[0,5]，格式为小数点后1位。
Format4：酒店星级格式为为正整数。
Format5：价格的格式为大于等于0，精确到小数点后两位的浮点数，单位为元。
Format6：折扣的格式为[0,1]的小数。
Format7：所有ID的格式为11位0~9纯数字。

### 3.5  其他

无。

# 4. 变更记录
| 序号 | 负责人 | 时间 | 更改内容 |
| ---- | ------ | ---- | -------- |
|  1   |   曾昭宁     |   2020年4月17日 22：55   | 完成1.引言 |
|  2   |   陈鹏克     |   2020年4月19日 12：31   | 完成2.3，2.4，2.5，3.1，3.2.5，3.2.6 |
|  3   |   檀潮     |   2020年4月19日 17：44   | 完成3.2.7，3.2.8，3.3 |
|  4   | 曾昭宁 | 2020年4月19日 19：32 | 完成3.2.9 ，3.2.10 ，3.4， 3.5 |
|  5   |   浦隽轩     |   2020年4月19日 22：01   | 完成2.2.1，2.2.2，3.2.1，3.2.2，3.2.3，3.2.4 |
|  6   |   曾昭宁     |   2020年6月5日 17：19   | 完成用例3，6，7，17，18，19的功能需求说明 |
|  7   |   檀潮     |   2020年6月5日 18：27   | 完成用例1，2，8，9的功能需求说明及3.3非功能需求的修改 |
|  8   |   檀潮     |   2020年6月13日 10：13   | 更改用例11名字为“管理可用客房”，修改用例12以及更名为“提前退房” |
| 9 | 陈鹏克 | 2020年6月28日 16：30 | 修改3.2.3 |
| 10 | 曾昭宁 | 2020年6月29日 16：55 | 修改完成文档 |
| 11 | 陈鹏克 | 2020年6月29日 17：13 | 修改文档 |